{"ast":null,"code":"var _jsxFileName = \"/Users/marthenjanvandereems/Documents/WeThinkCode/Matcha/matcha-app/src/components/upload.js\";\nimport React, { Component } from 'react';\nimport \"../styles/overload.css\";\nimport \"../styles/helpers.css\";\nimport \"../styles/index.css\";\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport axios from 'axios';\nimport { StaticRouter } from 'react-router-dom';\nimport { getJwt } from \"./auth/jwt-helper.js\";\nvar sesh = \"meave@gmail.com\";\n\nvar ip = require(\"../server.json\").ip;\n\nvar token = \"admin\";\nconsole.log(ip);\nexport default class Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedFile: null,\n      ctag: [\"loading\"],\n      ntag: \"\"\n    };\n\n    this.tag_handler = event => {\n      // console.log(event.target.value);\n      this.setState({\n        ntag: event.target.value\n      });\n    };\n\n    this.tag_push = () => {\n      var tag = this.state.ctag;\n      const new_tag = this.state.ntag.trim();\n\n      if (!tag.find(function (res) {\n        return res == '#' + new_tag;\n      }) && new_tag != \"\") {\n        tag.push('#' + new_tag);\n        this.setState({\n          ctag: tag\n        });\n        axios.post(ip + \"/users/edit_spec\", {\n          \"email\": sesh,\n          \"token\": token,\n          \"tag\": tag\n        });\n      }\n    };\n\n    this.tag_remove = () => {\n      var tag = this.state.ctag;\n      const new_tag = this.state.ntag.trim();\n\n      if (tag.find(function (res) {\n        return res == '#' + new_tag;\n      }) && new_tag != \"\") {\n        var pos = tag.findIndex(function (res) {\n          return res == '#' + new_tag;\n        });\n        tag.splice(pos, 1);\n        this.setState({\n          ctag: tag\n        });\n        axios.post(ip + \"/users/edit_spec\", {\n          \"email\": sesh,\n          \"token\": token,\n          \"tag\": tag\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    axios.post(ip + \"/users/get_spec\", {\n      \"email\": sesh,\n      \"target\": \"img name tag\",\n      \"token\": token\n    }).then(res => {\n      console.log(res.data[0]);\n\n      if (res.data == \"invalid token\" || res.data == \"token not present\") {\n        return window.location.href = ip + \"/login\";\n      } else if (res.data[0].tag) {\n        this.setState({\n          ctag: res.data[0].tag\n        });\n      }\n    });\n  }\n\n  event_catch(event) {\n    console.log(event.target.id);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.tag_handler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.tag_push,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Upload\"), React.createElement(\"button\", {\n      onClick: this.tag_remove,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Remove\"), React.createElement(\"div\", {\n      value: \"lol\",\n      onClick: e => this.event_catch(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"3\",\n      value: \"it works\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"hi\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"text\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.state.ctag), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"text\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, this.state.ntag));\n  }\n\n}","map":{"version":3,"sources":["/Users/marthenjanvandereems/Documents/WeThinkCode/Matcha/matcha-app/src/components/upload.js"],"names":["React","Component","axios","StaticRouter","getJwt","sesh","ip","require","token","console","log","Home","state","selectedFile","ctag","ntag","tag_handler","event","setState","target","value","tag_push","tag","new_tag","trim","find","res","push","post","tag_remove","pos","findIndex","splice","componentDidMount","then","data","window","location","href","event_catch","id","render","e"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport \"../styles/overload.css\";\nimport \"../styles/helpers.css\";\nimport \"../styles/index.css\";\nimport '../../node_modules/font-awesome/css/font-awesome.min.css'; \nimport axios from 'axios'; \nimport { StaticRouter } from 'react-router-dom';\nimport { getJwt } from \"./auth/jwt-helper.js\";\n\nvar sesh = \"meave@gmail.com\";\nvar ip = require(\"../server.json\").ip;\nvar token = \"admin\";\nconsole.log(ip);\n\nexport default class Home extends Component {\n\n    state = {\n        selectedFile : null,\n        ctag : [\"loading\"],\n        ntag : \"\"\n    }\n    componentDidMount () {\n        axios.post(ip+\"/users/get_spec\", {\"email\": sesh, \"target\":\"img name tag\", \"token\":token}).then(res => {\n            console.log(res.data[0]);\n            if (res.data == \"invalid token\" || res.data == \"token not present\"){\n                return (window.location.href = ip+\"/login\");\n            }\n            else if (res.data[0].tag){\n                this.setState({\n                    ctag: res.data[0].tag\n                });\n            }\n        });\n    }\n\n    tag_handler = event => {\n        // console.log(event.target.value);\n        this.setState({ntag : event.target.value});\n    }\n\n    tag_push = () => {\n        var tag  = this.state.ctag;\n        const new_tag = this.state.ntag.trim();\n        if (!tag.find(function (res){return res == '#' + new_tag;}) && new_tag != \"\"){\n            tag.push('#' + new_tag);\n            this.setState({ctag: tag});\n            axios.post(ip+\"/users/edit_spec\", {\"email\": sesh,\"token\":token, \"tag\":tag});\n        }\n    }\n\n    tag_remove = () => {\n        var tag  = this.state.ctag;\n        const new_tag = this.state.ntag.trim();\n        if (tag.find(function (res){return res == '#' + new_tag;}) && new_tag != \"\"){\n            var pos = tag.findIndex(function (res){return res == '#' + new_tag;});\n            tag.splice(pos,1);\n            this.setState({ctag : tag});\n            axios.post(ip+\"/users/edit_spec\", {\"email\": sesh,\"token\":token, \"tag\":tag});\n        }\n    }\n\n    event_catch(event){\n        console.log(event.target.id);\n    }\n\n    render () {\n        return (\n        <div className=\"App\">\n            <input type=\"text\" onChange={this.tag_handler} />\n            <button onClick={this.tag_push}>Upload</button>\n            <button onClick={this.tag_remove}>Remove</button>\n            <div value={\"lol\"} onClick={e => this.event_catch(e)}><button id=\"3\" value=\"it works\">hi</button></div>\n            <br/><text>{this.state.ctag}</text>\n            <br/><text>{this.state.ntag}</text>\n        </div>\n        )\n    }\n} "]},"metadata":{},"sourceType":"module"}