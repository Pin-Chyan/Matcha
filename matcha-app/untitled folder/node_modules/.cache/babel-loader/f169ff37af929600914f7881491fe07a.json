{"ast":null,"code":"import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport \"../styles/overload.css\";\nimport \"../styles/helpers.css\";\nimport \"../styles/index.css\";\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\n\nvar ip = require(\"../server.json\").ip;\n\nexport default class Verify extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      email: '',\n      emailErr: '',\n      mailSent: false\n    };\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      emailErr: ''\n    });\n\n    if (this.state.email === '') {\n      return this.setState({\n        emailErr: 'Please fill in your email!'\n      });\n    }\n\n    axios.post('http://localhost:5001/users/email', {\n      email: this.state.email\n    }).then(res => {\n      if (res.data.present === 1) {\n        axios.post('http://localhost:5001/users/sendResetLink', {\n          email: this.state.email\n        }).then(res => {\n          //Do stuff\n          this.setState({\n            mailSent: true\n          });\n        });\n      } else {\n        this.setState({\n          emailErr: 'Account not found.'\n        });\n      }\n    });\n  }\n\n  render() {\n    if (!this.state.mailSent) {}\n  }\n\n}","map":{"version":3,"sources":["/Users/marthenjanvandereems/Documents/WeThinkCode/Matcha/matcha-app/src/components/forgot-component.js"],"names":["React","Component","axios","Link","ip","require","Verify","constructor","props","onChangeEmail","bind","onSubmit","state","email","emailErr","mailSent","e","setState","target","value","preventDefault","post","then","res","data","present","render"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,wBAAP;AACA,OAAO,uBAAP;AACA,OAAO,qBAAP;AACA,OAAO,0DAAP;;AACA,IAAIC,EAAE,GAAGC,OAAO,CAAC,gBAAD,CAAP,CAA0BD,EAAnC;;AAIA,eAAe,MAAME,MAAN,SAAqBL,SAArB,CAA+B;AAC1CM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACrB,UAAMA,KAAN;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AAEM,SAAKE,KAAL,GAAa;AAClBC,MAAAA,KAAK,EAAE,EADW;AAElBC,MAAAA,QAAQ,EAAE,EAFQ;AAGlBC,MAAAA,QAAQ,EAAE;AAHQ,KAAb;AAKN;;AAEDN,EAAAA,aAAa,CAACO,CAAD,EAAI;AACV,SAAKC,QAAL,CAAc;AAACJ,MAAAA,KAAK,EAAEG,CAAC,CAACE,MAAF,CAASC;AAAjB,KAAd;AACN;;AAEDR,EAAAA,QAAQ,CAACK,CAAD,EAAI;AACXA,IAAAA,CAAC,CAACI,cAAF;AAEA,SAAKH,QAAL,CAAc;AAAEH,MAAAA,QAAQ,EAAE;AAAZ,KAAd;;AAGA,QAAI,KAAKF,KAAL,CAAWC,KAAX,KAAqB,EAAzB,EAA6B;AAC5B,aAAO,KAAKI,QAAL,CAAc;AAAEH,QAAAA,QAAQ,EAAE;AAAZ,OAAd,CAAP;AACA;;AAEDZ,IAAAA,KAAK,CAACmB,IAAN,CAAW,mCAAX,EAAgD;AAAER,MAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC;AAApB,KAAhD,EACCS,IADD,CACMC,GAAG,IAAI;AACZ,UAAIA,GAAG,CAACC,IAAJ,CAASC,OAAT,KAAqB,CAAzB,EAA4B;AAC3BvB,QAAAA,KAAK,CAACmB,IAAN,CAAW,2CAAX,EAAuD;AAAER,UAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC;AAApB,SAAvD,EAAoFS,IAApF,CAAyFC,GAAG,IAAI;AAC/F;AACA,eAAKN,QAAL,CAAc;AAAEF,YAAAA,QAAQ,EAAE;AAAZ,WAAd;AACA,SAHD;AAIA,OALD,MAKO;AACN,aAAKE,QAAL,CAAc;AAAEH,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACA;AACD,KAVD;AAWA;;AAEEY,EAAAA,MAAM,GAAG;AACX,QAAI,CAAC,KAAKd,KAAL,CAAWG,QAAhB,EAA0B,CAEzB;AAEE;;AA7CyC","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport \"../styles/overload.css\";\nimport \"../styles/helpers.css\";\nimport \"../styles/index.css\";\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nvar ip = require(\"../server.json\").ip;\n\n\n\nexport default class Verify extends Component {\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.onChangeEmail = this.onChangeEmail.bind(this);\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\n        this.state = {\n\t\t\temail: '',\n\t\t\temailErr: '',\n\t\t\tmailSent: false\n        }\n\t}\n\t\n\tonChangeEmail(e) {\n        this.setState({email: e.target.value});\n\t}\n\t\n\tonSubmit(e) {\n\t\te.preventDefault();\n\n\t\tthis.setState({ emailErr: ''});\n\n\n\t\tif (this.state.email === '') {\n\t\t\treturn this.setState({ emailErr: 'Please fill in your email!' });\n\t\t}\n\t\t\n\t\taxios.post('http://localhost:5001/users/email', { email: this.state.email })\n\t\t.then(res => {\n\t\t\tif (res.data.present === 1) {\n\t\t\t\taxios.post('http://localhost:5001/users/sendResetLink',{ email: this.state.email }).then(res => {\n\t\t\t\t\t//Do stuff\n\t\t\t\t\tthis.setState({ mailSent: true })\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.setState({ emailErr: 'Account not found.'});\n\t\t\t}\n\t\t});\n\t}\n\n    render() {\n\t\tif (!this.state.mailSent) {\n\n\t\t}\n        \n    }\n}"]},"metadata":{},"sourceType":"module"}